<!-- <template name="todo_item">
  <li class="todo {{done_class}}">
    {{#if editing}}
      <div class="edit">
        <input id="todo-input" type="text" value="{{text}}" />
      </div>
    {{else}}
      <div class="destroy"></div>
      <div class="display">
        <input class="check" name="markdone" type="checkbox" checked={{done}} />
        <div class="todo-text">{{text}}</div>
      </div>
    {{/if}}
    <div class="item-tags">
      {{#each tag_objs}}
        <div class="tag removable_tag">
          <div class="name">{{tag}}</div>
          <div class="remove"></div>
        </div>
      {{/each}}
      {{#if adding_tag}}
        <div class="tag edittag">
          <input type="text" id="edittag-input" value="" />
        </div>
      {{else}}
        <div class="tag addtag">
          +tag
        </div>
      {{/if}}
    </div>
  </li>
</template>
 -->
<template name="todos_item">
    <div class="panel panel-default">
        <ul class="list-group" id="todos-item-id">
            <li class="list-group-item disabled">
                <span><b>Todos</b></span>
            <!-- Button for tragger add group modal -->
                <button class="btn btn-sm btn-primary btn-group-sm pull-right" data-toggle="modal" data-target="#add-item">
                <span class="glyphicon glyphicon-plus"></span>
                </button>
            </li>
            <li class="list-group-item" id='tag_filter'>
                <span> Tags: </span>
                {{#each filter_tags}}
                  <button class="btn btn-xs {{filter_selected}}">
                    {{tag}}
                    <span class="badge">
                      {{count}}
                    </span>
                  </button>
                {{/each}}
            </li>
            {{#each todos}}
                <li href="#" class="list-group-item {{selected}}">
                    <div>
                        {{#if editing}}
                            <input type="text" class="form-control" id="list-group-item-input" placeholder="Item name">
                        {{else}}
                            <span class="glyphicon glyphicon-trash pull-left destroy"></span>
                            &nbsp;
                            <input class="check" type="checkbox" checked="{{done}}" style="margin-top: -1px;"> 
                            <span class="{{done}}">
                            {{text}}
                            </span>
                            <button class="btn btn-xs btn-primary btn-group-sm pull-right" data-toggle="modal" data-target="#add-tag" id="btn-new-tag">
                              +tag
                            </button>
                            {{#each tags}}
                                <span class="label label-default pull-right">
                                    {{tag}}
                                    &nbsp;<span class="glyphicon glyphicon-remove tag-destroy"></span>
                                </span>&nbsp;
                            {{/each}}
                        {{/if}}
                    </div>
                </li>
            {{/each }}
        </ul>
    </div>
    <!-- add group modal -->
    <div class="modal fade" id="add-item" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            <h4 class="modal-title">Add todo</h4>
          </div>
          <div class="modal-body">
            <input type="text" class="form-control">
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
            <button type="button" class="btn btn-primary" id="btn-add-item">Add</button>
          </div>
        </div>
      </div>
    </div>
    <!-- add tag modal -->
    <div class="modal fade" id="add-tag" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            <h4 class="modal-title">Add tag</h4>
          </div>
          <div class="modal-body">
            <input type="text" class="form-control">
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
            <button type="button" class="btn btn-primary" id="btn-add-tag">Add</button>
          </div>
        </div>
      </div>
    </div>
</template>